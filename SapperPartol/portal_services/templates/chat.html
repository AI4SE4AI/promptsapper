<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ role }}</title>
    <!-- bootstrap -->
    <link href="../static/css/v5.2.3_bootstrap.min.css" rel="stylesheet">
    <script src="../static/js/bootstrap.bundle.min.js" ></script>
{#    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.min.js"></script>#}
    <script src="../static/js/socket.io.min.js"></script>
    <!-- jquery -->
    <script src="../static/js/jquery.min.js"></script>
    <!-- icons -->
{#<script src="https://cdn.jsdelivr.net/npm/microsoft-cognitiveservices-speech-sdk/distrib/browser/microsoft.cognitiveservices.speech.sdk.bundle.js"></script>#}

    <!-- self -->
    <link rel="stylesheet" href="../static/css/chat.css">
    <script src="../static/js/chat.js"></script>
</head>

<body>
{% include 'component_navigationBar.html' %}
<main id="main" class="container-fluid">
    <!-- *** Left sidebar *** -->
    <div id="left-sidebar">
        <!-- Brand -->
        <div class="text-center brand">
            <img src="{{ url_for('static', filename='images/role/' + role + '.png') }}" class="brand-logo" alt="角色图片">
        </div>
        <!-- Chat history -->
        <div id="conversation-history" class="conversation-opts-container">

        </div>

        <!-- Conversation options -->
        <div class="conversation-opts container">
            <div class="user-center new-chat">

            <a class="conversation-opts-link" onclick="new_chat();" data-bs-toggle="tooltip" title="New Chat">
                <span class="user-phone">New Chat</span>
                <i class="bi bi-plus-lg"><img src="../static/images/icon/plus-lg.svg" ></i>
            </a>

            </div>
            <div class="user-center">
                <a id="user-setting" class="conversation-opts-link" data-bs-toggle="tooltip" data-bs-placement="top" title="用户设置">
                    <i class="bi bi-list"><img src="../static/images/icon/list.svg"></i>
                    <span class="user-phone">{{ username }}</span>
                </a>
            </div>
        </div>

    {% include 'component_modal.html' %}
    </div>
    <!-- *** Chat page *** -->
    <div id="content" class="container-fluid">
        <div class="row">
            <!-- *** Chat page *** -->
            <div id="chat_container" class="col-12">
                <!-- conversation -->
                <div id="conv-0" class="conversation-wrapper">

                </div>
                <!-- Input bar -->
                <div class="input-wrapper">
                    <form id="msgForm">
                        <div class="input-group input-msg">
                            <textarea required id="msgInput" name="message"  class="form-control" placeholder="enter发送消息，shift+enter换行" style="height: 3rem;"></textarea>
                            <a class="btn btn-msg" onclick="query_conversion();" data-bs-toggle="tooltip" title="Send a message"><i class="bi bi-send-fill"><img src="../static/images/icon/send-fill.svg" alt="发送"> </i></a>
                            <a class="btn btn-msg" id="startRecording" data-bs-toggle="tooltip" title="Send a message"><i class="bi bi-send-fill" id="speak_i"><img src="../static/images/icon/mic.svg" alt="发送"></i></a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</main>
</body>
</html>

